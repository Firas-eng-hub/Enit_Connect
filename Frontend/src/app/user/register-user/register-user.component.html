<div class="row" *ngIf="page == 'register'">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header card-header-danger">
                <h5 class="card-title">Register now</h5>
            </div>

            <!-- Validation Error Messages -->
            <div *ngIf="validationError" style="padding: 10px 15px;">
                <div style="background-color: #fff3e0; border: 1px solid #ff9800; border-radius: 4px; padding: 10px;">
                    <p style="color: #e65100; font-weight: bold; margin: 0; font-size: 14px;">
                        <i class="material-icons" style="vertical-align: middle; font-size: 18px;">warning</i>
                        {{ validationErrorMessage }}
                    </p>
                </div>
            </div>

            <div class="card-body">
                <form>
                    <div class="form-group">
                        <label for="type">You are : </label>
                        <input (click)="user.type = 'student';" type="radio" name="type" value="Student"
                            style="width: 50px;" [checked]="type=='student'" /><span style="font-size:22px;"> Student
                        </span>
                        <input (click)="user.type = 'alumni';" type="radio" name="type" value="Alumni"
                            style="width: 50px;" [checked]="type=='alumni'" /><span style="font-size:22px;"> Alumni
                        </span>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <mat-form-field class="example-full-width">
                                <input autofocus matInput placeholder="First Name *" type="text"
                                    (input)="user.firstname = $event.target.value">
                            </mat-form-field>
                        </div>
                        <div class="col-md-6">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Last Name *" type="text"
                                    (input)="user.lastname= $event.target.value">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Email address *" type="email"
                                    (input)="user.email = $event.target.value">
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Phone number" type="phone"
                                    (input)="user.phone = $event.target.value">
                            </mat-form-field>
                        </div>
                        <div class="col-md-4" *ngIf="user.type == 'student'">
                            <mat-form-field appearance="fill">
                                <mat-label>Class</mat-label>
                                <select matNativeControl required>
                                    <option *ngFor="let class of classes" (click)="user.class= class" [value]="class">
                                        {{class}}
                                    </option>
                                </select>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4" *ngIf="user.type == 'alumni'">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Work at" (input)="user.workAt = $event.target.value">
                            </mat-form-field>
                        </div>


                    </div>



                    <div class="row">
                        <div class="col-md-4">

                            <mat-form-field appearance="fill">
                                <mat-label>Promotion</mat-label>
                                <select matNativeControl required>
                                    <option *ngFor="let year of years" (click)="user.promotion= year" [value]="year">
                                        {{year}}
                                    </option>
                                </select>
                            </mat-form-field>
                        </div>
                        <div class="col-md-8">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Address" type="text"
                                    (input)="user.address=$event.target.value">
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Linkedin" type="text"
                                    (input)="user.linkedin= $event.target.value">
                            </mat-form-field>
                        </div>


                        <div class="col-md-4">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="City" type="text" (input)="user.city = $event.target.value"
                                    required>
                            </mat-form-field>
                        </div>
                        <div class="col-md-4">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Country" type="text"
                                    (input)="user.country= $event.target.value">
                            </mat-form-field>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field class="example-full-width">
                                <textarea matInput placeholder="About me"
                                    (input)="user.aboutme= $event.target.value"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-form-field class="example-full-width">
                                <input matInput placeholder="Password *" type="password"
                                    (input)="user.password= $event.target.value">
                            </mat-form-field>
                        </div>
                    </div>

                    <p style="font-size: 12px; color: #666; margin-bottom: 15px;">
                        <i class="material-icons" style="font-size: 14px; vertical-align: middle;">info</i>
                        Fields marked with * are required
                    </p>

                    <button mat-raised-button type="submit" class="btn btn-danger pull-right" id="submit-btn"
                        (click)="registerUser();">Register</button>
                    <div class="clearfix"></div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row" *ngIf="page == 'success'">
    <div class="col-md-12">
        <div class="card" style="padding: 20px; text-align:center;">
            <img src="../../assets/img/success.jpg" alt=""
                style="width: 250px; margin-left:auto; margin-right:auto;"><br>
            <h3> Registration Successful! </h3>
            <p style="color: #666; margin: 15px 0;">
                <i class="material-icons" style="color: #4caf50; vertical-align: middle;">email</i>
                A confirmation email has been sent to your email address.
            </p>
            <p style="color: #666; font-size: 14px;">
                Please check your inbox and click the verification link to activate your account.
                <br><br>
                <strong>Didn't receive the email?</strong> Check your spam folder or wait a few minutes.
            </p>
        </div>
    </div>
</div>
<div class="row" *ngIf="page == 'error'">

    <div class="col-md-12">
        <div class="card" style="padding: 20px; text-align:center;">
            <img src="../../assets/img/error.PNG" alt=""
                style="width: 250px; margin-left:auto; margin-right:auto; border-radius:50%;"><br>
            <h3 style="color: #c62828;"> Registration Failed </h3>
            <p style="color: #666; margin: 15px 0;">
                {{ errorMessage || 'An error occurred during registration.' }}
            </p>
            <div
                style="background-color: #f5f5f5; padding: 15px; border-radius: 4px; text-align: left; margin: 15px 0;">
                <p style="font-weight: bold; margin-bottom: 10px;">Common issues:</p>
                <ul style="color: #666; font-size: 14px; margin: 0; padding-left: 20px;">
                    <li>Email address is already registered</li>
                    <li>Invalid email format</li>
                    <li>Required fields are missing (First name, Last name, Email, Password)</li>
                    <li>Password is too short (minimum 6 characters)</li>
                    <li>Server connection issue - try again later</li>
                </ul>
            </div>
            <button mat-raised-button type="submit" class="btn btn-danger" (click)="this.page = 'register'">
                <i class="material-icons" style="vertical-align: middle;">arrow_back</i> Try Again
            </button>

        </div>
    </div>
</div>